# Database (Supabase)
SUPABASE_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/waygate

# Explicit issuer URL (recommended in production). Must include /a/{tenant} and use https in production.
# e.g. https://id.example.com/a/{tenant}
ISSUER_URL=

# SMTP (recommended in production)
# If any of these are set in production, SMTP_HOST, SMTP_PORT, and EMAIL_FROM are required.
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=

# Redis (recommended in production)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_USERNAME=
REDIS_PASSWORD=

# Crypto (required)
# Must be at least 32 characters
ENCRYPTION_KEY=dev_encryption_key_change_me_please_32_chars
SESSION_SECRET=dev_session_secret_change_me_please_32_chars

# Observability
SENTRY_DSN=

# Admin API secret (for admin endpoints)
ADMIN_SECRET=

# Rate limits (defaults shown)
RL_TOKEN_IP_LIMIT=60
RL_TOKEN_CLIENT_LIMIT=120
RL_TOKEN_WINDOW_SEC=60
RL_REGISTER_IP_LIMIT=10
RL_REGISTER_WINDOW_SEC=3600
# Optional JSON overrides per tenant/client
# RL_OVERRIDES_JSON={"tenants":{"example":{"token":{"ip":100,"client":200,"windowSec":60},"register":{"ip":5},"clients":{"example-client":{"client":300}}}}}
